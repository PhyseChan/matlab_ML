import assign_point.*

logo='r*yob.g^ro';
hold on;
dataset=[0.757165955455080,0.637920749171789;0.240713033541195,0.725059755063973;0.230909836018301,0.894647612386255;0.0119883821994998,0.767987004548132;0.132474625822457,0.206846838462889;0.209386548479040,0.0433041575402289;0.214182716384050,0.153563556887829;0.905794370282143,0.718313564120591;0.277772501400827,0.128643505891081;0.0971019894267973,0.220788923652274;0.782821526670524,0.453559441489318;0.667520944604570,0.465260851971691;0.612672548528441,0.0897862581146435;0.343792421289708,0.506729645061984;0.690338891464082,0.0765090983525664;0.233558970402658,0.166524695872434;0.308029426654619,0.747710039127429;0.357300705035804,0.334567260318324;0.216697932367009,0.305054021165106;0.677280004283046,0.818878552761969;0.736014713740831,0.982048945374202;0.0100185705081634,0.968970008395478;0.355914314193773,0.576622335269014;0.239954583001563,0.233482991102818;0.927608731363223,0.292098451838874;0.762986816223549,0.673764331879990;0.379387102683397,0.573738701774179;0.685956275663823,0.199702249129722;0.698872673219376,0.958198397114720;0.590398235040816,0.336154890392076;0.962055535472913,0.149664105303348;0.781345653172047,0.328383218060923;0.538427479061901,0.113096676567634;0.0941382510166930,0.771914476030847;0.886008685110991,0.792562519354107;0.257495133440266,0.587068781068013;0.463506865876196,0.0791916209259588;0.330798270091260,0.192901989423697;0.756773387686601,0.775405135198076;0.802849335327990,0.353391437287061;0.803117690893612,0.838947784834775;0.876636860328713,0.133887257475644;0.0874740675440413,0.698147940585025;0.667913624903703,0.190344628030756;0.502421972529354,0.396806895101165;0.335562040666086,0.338947324289590;0.588561469425868,0.922692756839730;0.351932586972910,0.838402608756176;0.206717653448786,0.629524052851101;0.262154546296404,0.865490649812760;0.0986493029057204,0.216289591681076;0.150063189520438,0.0648990849056403;0.321019344134903,0.678000534448262;0.594389455161452,0.535120190236234;0.153738062315018,0.517349233632873;0.0626255991383137,0.255718668457607;0.00778223005726730,0.852827587736811;0.774260127945252,0.823201061074928;0.682045019145825,0.0165722102089281;0.120503154992744,0.474710003612981;0.719253399296351,0.944118569767781;0.161854103749308,0.458620542739682;0.120160149952966,0.849972299911911;0.681152106103643,0.535552391452369;0.144826655994988,0.434101281159365;0.0578277521777769,0.0244337051299548;0.134942002869956,0.504359780762734;0.0147804385042802,0.876483955313540;0.189117151280089,0.908248818284871;0.0708621182879046,0.285203484332663;0.0378597506004695,0.132703661976258;0.307870208130694,0.000132543545445563;0.515735546023720,0.317960710505006;0.393510740154600,0.530107999980754;0.995195514105615,0.829176120704962;0.439599979444392,0.673583532306215;0.151439647032156,0.913014498645068;0.778050529499016,0.756141926441929;0.741173463627264,0.168512427287545;0.0876437222952857,0.964015937706506;0.470425708481648,0.348265950752917;0.292829610083521,0.598487561932561;0.406850582025529,0.731391705452838;0.430237247543503,0.870816363254405;0.871262140219956,0.333399437135350;0.707250137217728,0.463042712596264;0.0142973312746552,0.166886711732574;0.0245837084462989,0.466389296693143;0.236994247170202,0.456370455255218;0.598265436268776,0.127822299283932;0.926198153290609,0.639930370392182;0.334413488822878,0.896488227238531;0.443032939162917,0.427427957846508;0.0991380567194883,0.175846033365880;0.715151205267871,0.294898346991532;0.721638406610134,0.0587383128869224;0.782470952751407,0.0601728810384173;0.942045100936627,0.0266598923540069;0.0475684765606691,0.550467405320711;0.800350387947629,0.563050714329366;0.466788405374054,0.304595613761088;0.279139849677783,0.754510784702297;0.0447210821128327,0.671103187580155;0.787550968567015,0.939838254337713;0.899123861423961,0.485154691181415;0.775683899677438,0.518087840973396;0.837450235582090,0.789203213435278;0.344420705880329,0.571168243892834;0.191192603795677,0.766494844432297;0.378438923860061,0.920166100163620;0.256333841550158,0.210306333287111;0.0214632398092577,0.608114181349688;0.293278784780504,0.465725204435141;0.240422777514371,0.616699894336789;0.202589008910586,0.203092123754255;0.348220780592835,0.677600524047734;0.537149596656765,0.0173155583220036;0.124314272622256,0.226607511496155;0.192738309670600,0.914466037759236;0.488619539455234,0.768434032614168;0.407010404102642,0.533312642706680;0.734918843743705,0.0683802164192485;0.299904918967185,0.199584232173589;0.807136141451077,0.0120176306233901;0.913664517168352,0.966571912566926;0.765108041299724,0.832200690295632;0.334211696126535,0.445309060248767;0.719337934780301,0.990495465712949;0.0335931645744745,0.794284383653600;0.615623896929065,0.488611168068191;0.112184865757560,0.130589254209538;0.0506021581783623,0.212242519268368;0.0552102492479777,0.831110154723853;0.0262195967692186,0.323787369673580;0.955435581800110,0.738767713808585;0.525213803497993,0.159872758854640;0.756254015153826,0.731470715483821;0.589818318147174,0.0536941171904529;0.738905633959864,0.714389527083785;0.319416999363896,0.121735642299081;0.848129833708729,0.984044737989997;0.493646821428674,0.593098196266203;0.114835278208844,0.269543205364821;0.812272382178224,0.432003590924972;0.666829160039590,0.930512342342939;0.381783083914011,0.507885308540296;0.718808964344897,0.0640980052808117;0.418627894303215,0.659111312806854;0.0559327094009257,0.449172017844814;0.584999660582087,0.147168497595702;0.298827723198670,0.775228089906687;0.409562578791110,0.531261756843833;0.586089706274874,0.0878941964863205;0.315621564978314,0.900460695951333;0.147358447504408,0.868151184025940;0.991529275377820,0.0562998612769433;0.107493243817195,0.640056253376155;0.334256834168659,0.889264629794461;0.0379589602640043,0.347723192695842;0.922406597999313,0.666719506046494;0.373141767132931,0.454460742891694;0.989160720830219,0.446878937928708;0.543456031093595,0.0170310231720651;0.563316516800312,0.861417656196086;0.187898618609450,0.937822118715544;0.215495628748610,0.478774086979043;0.485306895364261,0.569831493793170;0.219500737305357,0.992795582450183;0.936872548362282,0.404134625950054;0.277624636235479,0.219841318752584;0.953103538581981,0.866496585605024;0.814932510793150,0.689023069077314;0.349598804621487,0.171469383296141;0.0216060447638035,0.00902372872092816;0.341013043092474,0.169077127538321;0.384397811924298,0.206387770951504;0.0932896254234417,0.901622188806186;0.969252776709913,0.709139897416604;0.190044957173184,0.131930049727709;0.164620463933557,0.425204689342426;0.507031443025240,0.661446714250263;0.508238273215872,0.322383080983399;0.0514781512552508,0.597436790067751;0.367011700837063,0.210647153317548;0.584797236625955,0.189618227177975;0.994750591834159,0.208315555445146;0.435131772858032,0.713345381914946;0.695997788483381,0.252696410897019;0.0164754955139705,0.270015009688202;0.152540095503124,0.481757359283581;0.899538852278359,0.220673729581596;0.0463763013823250,0.354664189148112;0.0293269895896349,0.637734017278605;0.574444491295931,0.749754307661468;0.340404165658471,0.492421401561606;0.219300767245549,0.617388763954745;0.903991054375013,0.319453111261942;0.683087841522802,0.302499087994426;0.371648147433041,0.141789496281462;0.401117836492822,0.844342381495237;0.204970269546629,0.288154319299721;0.237699193799980,0.908832329658068;0.884360645947479,0.113209175875818;0.921243055684344,0.613860595050540;0.781648862269082,0.283904108955030;0.241915788011649,0.508132007325918;0.583596302269313,0.538875114256029;0.201855690473658,0.0521505093155784;0.127067768373594,0.437082481116893;0.687669321328120,0.218729639950497;0.910739011175164,0.918338990657680;0.750940069868364,0.691453098813723;0.822908904336123,0.115925259904350;0.225120852448046,0.359622792241797;0.386746304449196,0.306055720710478;0.418688452045263,0.302248075913999;0.935785662295632,0.561445487419883;0.105554849257096,0.796098974386462;0.531289272107127,0.469948705129241;0.621191657295655,0.791170525880790;0.280341753274966,0.418768954706078;0.197762634604298,0.739529750330297;0.408386910747043,0.357523154564920;0.362604572782088,0.949822083180672;0.161901392903929,0.750146571002327;0.893525483138456,0.0195774978398223;0.440476366658922,0.755167140259959;0.670310019520092,0.911801131562645;0.210426739318263,0.347753871933268;0.471146230276458,0.0712852111294682;0.0499138415493510,0.855088619240342;0.495931517705249,0.0943533481055111;0.269721194416960,0.549567876186815;0.684174307762781,0.915525126570028;0.747995619291006,0.522011578805557;0.391641368887366,0.0519654842517967;0.558827045705254,0.440908959881184;0.732245614140509,0.691189229271193;0.611621744657112,0.261377539212710;0.581229664436586,0.895907539440173;0.0706039272518529,0.459712428749353;0.374246311460359,0.232019041822638;0.0335896223196844,0.195942889579140;0.406143089668485,0.849693844920558;0.657958112269440,0.741608560642791;0.575240544824983,0.662215360447538;0.975956238113695,0.107088399559750;0.441639338168845,0.836172920709126;0.777836973559025,0.454915385323753;0.569458425859217,0.650629948128032;0.0210997848788582,0.904422585429451;0.512273552595416,0.110705625079734;0.407552145238053,0.603829508749812;0.219837073696457,0.0163824662953167;0.230460668047538,0.0912104015125412;0.438549783462451,0.905671652617877;0.919893830864455,0.547618978580024;0.319037567497570,0.644206311361358;0.284334536926044,0.235876900650091;0.363779007864189,0.620573635836441;0.499317543098154,0.0789822725201043;0.813524280935686,0.645751100531398;0.234818248522346,0.176299805784857;0.0222639360560148,0.618924778123306;0.301121413722734,0.970324158361631;0.298062236145094,0.669193468169111;0.825927976472960,0.331811326855709;0.136395439397703,0.457887015850102;0.814580405648260,0.0249493459820481;0.861088354928281,0.523104636865495;0.552941825691261,0.989191958605463;0.0185298677779496,0.723363696905421;0.507821480549943,0.396944731290823;0.713645133185084,0.590729815872983;0.697747973936715,0.573179891510593;0.893455595941863,0.507674291681839;0.701184970536691,0.145546385625009;0.937290380549169,0.290948730772037;0.0108927735593852,0.501144071620637;0.819740403776599,0.141869850833385;0.0342676541566569,0.406383401453808;0.516160320975267,0.593103184955249;0.653330320369338,0.809379944787499;0.754127262526012,0.470598959727016;0.279996974943310,0.674121679009063;0.603051060044045,0.757179557379411;0.888780732453205,0.182099790582198;0.643234106940034,0.619639176924652;0.786063353505465,0.769927078227743;0.491141242071711,0.421086262944373;0.403460405589341,0.438988765380035;0.877440097783825,0.488780201533050;0.708182926866650,0.216832960985771;0.826491606032295,0.832912384105407;0.0106704162584034,0.501543876326970;0.0955571422893711,0.102731676251023;0.543284252749573,0.364359910045486;0.856217447370269,0.820802024303507;0.264355933909156,0.122843525294514;0.775547260141591,0.649358746529001];
%dataset=[randi([30 50],100,2);randi([1 20 ],100,2);randi([30 50],[10 30])];
%dataset=[46,11;15,38;4,37;12,32;16,38;43,12;11,31;50,21;36,11;17,12;31,15;55,13;30,10;6,30;44,15;36,11;16,33;9,34;2,10;54,12;35,13;43,12;10,36;13,31;56,15;15,14;25,25;51,14;7,37;7,34;34,11;55,11;16,30;19,12;24,32;3,8;34,15;18,12;3,13;10,15;35,16;12,12;54,14;4,39;49,23;7,37;33,32;13,40;34,24;13,37;5,36;38,15;41,31;37,10;2,15;3,13;2,8;47,23;16,12;10,32;45,12;6,14;4,12;31,25;35,14;50,10;7,38;11,34;12,33;8,38;13,34;52,14;13,35;5,4;49,15;9,10;8,12;11,33;56,11;4,35;33,15;56,13;47,24;45,15;25,25;49,14;16,4;27,25;48,12;7,39;20,13;4,32;15,30;45,10;16,14;12,33;6,34;16,13;6,37;37,13;14,37;46,16;35,24;40,12;45,12;10,33;30,31;6,7;46,20;32,11;11,14;18,12;48,16;16,36;29,29;5,32;15,40;7,39;16,6;37,12;33,16;44,14;49,21;33,22;15,5;33,10;14,10;48,10;34,31;2,12;18,9;42,14;48,31;27,20;49,31;16,40;33,31;46,13;31,24;8,39;8,39;26,24;43,11;45,15;17,12;2,8;10,7;42,10;40,15;11,30;43,20;48,12;55,12;35,22;4,30;9,4;4,33;43,14;6,14;37,11;6,32;7,8;35,16;44,14;15,36;8,31;51,15;38,12;23,22;11,33;5,11;16,36;23,32;48,15;55,14;2,7;1,9;44,32;40,11;37,31;20,10;44,26];
hf=plot(dataset(:,1),dataset(:,2),"x");
pause(0.1);
firstpoint=35;
centroid_point=[];
centroid_point=[centroid_point;dataset(firstpoint,:)];
temp_p=dataset(firstpoint,:);
%init the beginning centroid_point
for i=1:4
    dis=0;
    for j=1:length(dataset)
        v1=dataset(j,:)-temp_p./i;
        dis_p=sqrt(dot(v1,v1));
        if dis<dis_p
            dis=dis_p;
            centroid_point(i+1,:)=dataset(j,:);
        end
        
    end
    temp_p=temp_p+centroid_point(i+1,:);
end
dataset_new=dataset;
dataset_new(:,3)=1;
[cr,cc]=size(unique(centroid_point,'row'));
if(cr~=size(centroid_point))
    centroid_point=unique(centroid_point,'row');
    disp(cr-length(centroid_point));
end
%assign the point to the cluster.
dataset_new=assign_point(dataset,dataset_new,centroid_point);

%generate the new centroid of the cluster.
centroid_point=generate_centroid(dataset_new,centroid_point);

%repeat 
for centroid_loop= 1:20
    pause(0.1);
    cla;
    dataset_new =assign_point(dataset,dataset_new,centroid_point);
    centroid_point=generate_centroid(dataset_new,centroid_point);
    for m=1:length(dataset)
    hf=plot(dataset_new(m,1),dataset_new(m,2),logo(dataset_new(m,3)*2-1:dataset_new(m,3)*2));
    end
    
end
for c_i =1: length(centroid_point)
plot(centroid_point(c_i,1),centroid_point(c_i,2),"k+");
end


